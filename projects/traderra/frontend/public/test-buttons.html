<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Button Click Test</title>
  <style>
    /* Mimic the dark theme styles */
    body {
      background-color: #0a0a0a;
      color: #ffffff;
      font-family: 'Inter', sans-serif;
      margin: 0;
      padding: 20px;
    }

    /* Test container mimicking page header */
    .page-header {
      position: fixed;
      top: 64px;
      left: 0;
      right: 0;
      z-index: 40;
      background-color: #111111;
      border-bottom: 1px solid #1a1a1a;
      padding: 16px 24px;
    }

    .button-group {
      display: flex;
      align-items: center;
      gap: 4px;
    }

    /* The CSS fixes from button-fix.css */
    button:not([disabled]),
    [role="button"]:not([disabled]) {
      cursor: pointer !important;
      pointer-events: auto !important;
      user-select: none !important;
      position: relative !important;
      z-index: 100 !important;
    }

    .traderra-date-btn,
    .traderra-date-selector button,
    [data-testid="date-selector"] button,
    [data-component="traderview-date-selector"] button {
      cursor: pointer !important;
      pointer-events: auto !important;
      position: relative !important;
      z-index: 200 !important;
    }

    /* Button styles */
    .btn {
      padding: 6px 12px;
      font-size: 14px;
      font-weight: 500;
      border-radius: 6px;
      transition: all 0.2s;
      background-color: transparent;
      color: #9ca3af;
      border: none;
    }

    .btn:hover {
      color: #e5e7eb;
      background-color: rgba(55, 65, 81, 0.5);
    }

    .btn.active {
      background-color: #B8860B;
      color: #000000;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    }

    .separator {
      width: 1px;
      height: 24px;
      background-color: #4b5563;
      margin: 0 4px;
    }

    /* Debug info */
    .debug-panel {
      margin-top: 100px;
      padding: 20px;
      background-color: #1a1a1a;
      border: 1px solid #333;
      border-radius: 8px;
    }

    .log-entry {
      font-family: monospace;
      font-size: 12px;
      padding: 4px 0;
      border-bottom: 1px solid #333;
    }

    .log-entry:last-child {
      border-bottom: none;
    }

    .click-count {
      position: fixed;
      top: 80px;
      right: 20px;
      background-color: #B8860B;
      color: #000;
      padding: 10px 20px;
      border-radius: 8px;
      font-weight: bold;
      z-index: 1000;
    }
  </style>
</head>
<body>
  <div class="page-header">
    <div class="button-group">
      <!-- Display Mode Toggle -->
      <button class="btn" data-btn="$">$</button>
      <button class="btn" data-btn="R">R</button>

      <!-- Date Range Buttons -->
      <button class="btn traderra-date-btn" data-btn="7d">7d</button>
      <button class="btn traderra-date-btn" data-btn="30d">30d</button>
      <button class="btn traderra-date-btn" data-btn="90d">90d</button>
      <button class="btn traderra-date-btn" data-btn="YTD">YTD</button>
      <button class="btn traderra-date-btn active" data-btn="All">All</button>

      <!-- Calendar Button -->
      <button class="btn traderra-date-btn" data-btn="calendar">ðŸ“…</button>

      <div class="separator"></div>

      <!-- P&L Mode Toggle -->
      <button class="btn" data-btn="G">G</button>
      <button class="btn" data-btn="N">N</button>
    </div>
  </div>

  <div class="click-count">Clicks: <span id="totalClicks">0</span></div>

  <div class="debug-panel">
    <h3>Click Event Log</h3>
    <div id="log"></div>
  </div>

  <script>
    const log = document.getElementById('log');
    const totalClicks = document.getElementById('totalClicks');
    let clicks = 0;

    function addLog(message) {
      const entry = document.createElement('div');
      entry.className = 'log-entry';
      entry.textContent = `${new Date().toLocaleTimeString()}: ${message}`;
      log.insertBefore(entry, log.firstChild);
    }

    // Add click listeners to all buttons
    document.querySelectorAll('button').forEach(btn => {
      btn.addEventListener('click', (e) => {
        clicks++;
        totalClicks.textContent = clicks;

        const btnId = e.target.getAttribute('data-btn');
        const computedStyle = window.getComputedStyle(e.target);

        addLog(`Clicked: ${btnId}`);
        addLog(`  cursor: ${computedStyle.cursor}`);
        addLog(`  pointer-events: ${computedStyle.pointerEvents}`);
        addLog(`  z-index: ${computedStyle.zIndex}`);
        addLog(`  position: ${computedStyle.position}`);
        addLog('---');
      });

      // Log hover
      btn.addEventListener('mouseenter', (e) => {
        const btnId = e.target.getAttribute('data-btn');
        const computedStyle = window.getComputedStyle(e.target);

        addLog(`Hover: ${btnId} (cursor: ${computedStyle.cursor})`);
      });
    });

    // Log computed styles on load
    document.querySelectorAll('button').forEach(btn => {
      const btnId = btn.getAttribute('data-btn');
      const computedStyle = window.getComputedStyle(btn);
      addLog(`Init: ${btnId}`);
      addLog(`  cursor: ${computedStyle.cursor}, pointer-events: ${computedStyle.pointerEvents}`);
      addLog('---');
    });
  </script>
</body>
</html>
