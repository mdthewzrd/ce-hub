{
  "name": "risk-manager",
  "description": "Production-grade risk management and portfolio optimization agent",
  "version": "1.0.0",
  "author": "CE-Hub Trading Team",
  "capabilities": [
    "real-time risk monitoring",
    "position sizing optimization",
    "portfolio correlation analysis",
    "value_at_risk (VaR) calculations",
    "drawdown monitoring",
    "stress testing",
    "scenario analysis",
    "risk-adjusted return optimization",
    "concentration risk management",
    "liquidity risk assessment"
  ],
  "tools": [
    "portfolio-analyzer",
    "var-calculator",
    "monte-carlo-risk",
    "correlation-matrix",
    "stress-tester",
    "position-sizer",
    "risk-metrics"
  ],
  "integrations": [
    "quantconnect-risk",
    "risk-libraries",
    "blommberg-api",
    "risk-factors-db",
    "market-data-feeds"
  ],
  "dependencies": {
    "scipy": "^1.10.0",
    "numpy": "^1.24.0",
    "pandas": "^2.0.0",
    "arch": "^5.3.0",
    "cvxpy": "^1.3.0",
    "scikit-learn": "^1.3.0",
    "plotly": "^5.15.0",
    "dash": "^2.11.0"
  },
  "risk_models": [
    {
      "name": "parametric_var",
      "description": "Variance-covariance VaR calculation",
      "confidence_levels": [0.95, 0.99],
      "time_horizons": [1, 5, 10, 22]
    },
    {
      "name": "historical_var",
      "description": "Historical simulation VaR",
      "confidence_levels": [0.95, 0.99],
      "lookback_periods": [252, 504, 756]
    },
    {
      "name": "monte_carlo_var",
      "description": "Monte Carlo simulation VaR",
      "confidence_levels": [0.95, 0.99],
      "simulations": 10000,
      "time_horizons": [1, 5, 10, 22]
    }
  ],
  "position_sizing_methods": [
    {
      "name": "kelly_criterion",
      "description": "Optimal position sizing using Kelly criterion",
      "fractional_kelly": 0.25
    },
    {
      "name": "fixed_fractional",
      "description": "Fixed percentage of portfolio risk",
      "risk_per_trade": 0.02
    },
    {
      "name": "volatility_adjusted",
      "description": "Position sizing based on volatility",
      "target_volatility": 0.15
    },
    {
      "name": "risk_parity",
      "description": "Equal risk contribution across positions",
      "risk_budget": "equal"
    }
  ],
  "risk_limits": {
    "portfolio_level": {
      "max_portfolio_var": 0.02,
      "max_drawdown": 0.15,
      "max_leverage": 2.0,
      "max_concentration": 0.25
    },
    "position_level": {
      "max_position_size": 0.10,
      "max_sector_exposure": 0.30,
      "max_single_stock_var": 0.005,
      "min_liquidity": 1000000
    },
    "correlation_limits": {
      "max_correlation": 0.7,
      "max_sector_correlation": 0.8,
      "correlation_lookback": 252
    }
  },
  "stress_scenarios": [
    {
      "name": "market_crash_2008",
      "description": "2008 financial crisis scenario",
      "market_shock": -0.30,
      "volatility_spike": 3.0
    },
    {
      "name": "covid_crash_2020",
      "description": "COVID-19 market crash",
      "market_shock": -0.35,
      "volatility_spike": 4.0
    },
    {
      "name": "interest_rate_shock",
      "description": "Rapid interest rate increase",
      "rate_change": 0.02,
      "bond_impact": -0.15
    },
    {
      "name": "liquidity_crisis",
      "description": "Market liquidity freeze",
      "volume_reduction": 0.5,
      "spread_widening": 2.0
    }
  ],
  "optimization_objectives": [
    {
      "name": "sharpe_ratio",
      "description": "Maximize risk-adjusted returns",
      "weight": 1.0
    },
    {
      "name": "sortino_ratio",
      "description": "Maximize downside risk-adjusted returns",
      "weight": 0.8
    },
    {
      "name": "min_var",
      "description": "Minimize portfolio variance",
      "weight": 0.6
    },
    {
      "name": "max_return",
      "description": "Maximize expected returns",
      "weight": 0.4
    }
  ],
  "real_time_monitoring": {
    "update_frequency": 1,
    "alert_thresholds": {
      "var_breach": 0.8,
      "drawdown_warning": 0.10,
      "concentration_warning": 0.20,
      "correlation_spike": 0.9
    }
  },
  "api_endpoints": [
    {
      "method": "GET",
      "path": "/risk/portfolio",
      "description": "Get current portfolio risk metrics",
      "parameters": {
        "portfolio_id": "string",
        "include_scenarios": "boolean"
      }
    },
    {
      "method": "POST",
      "path": "/risk/calculate-var",
      "description": "Calculate Value at Risk",
      "parameters": {
        "portfolio": "object",
        "confidence_level": "number",
        "time_horizon": "number",
        "method": "string"
      }
    },
    {
      "method": "POST",
      "path": "/risk/position-size",
      "description": "Calculate optimal position size",
      "parameters": {
        "symbol": "string",
        "portfolio": "object",
        "method": "string",
        "risk_budget": "number"
      }
    },
    {
      "method": "POST",
      "path": "/risk/stress-test",
      "description": "Run stress test scenarios",
      "parameters": {
        "portfolio": "object",
        "scenarios": "string[]",
        "custom_scenario": "object"
      }
    },
    {
      "method": "POST",
      "path": "/risk/optimize-portfolio",
      "description": "Optimize portfolio weights",
      "parameters": {
        "universe": "string[]",
        "objective": "string",
        "constraints": "object"
      }
    }
  ],
  "monitoring": {
    "metrics": [
      "portfolio_var_1d",
      "portfolio_var_10d",
      "current_drawdown",
      "position_count",
      "correlation_matrix_avg",
      "risk_adjusted_return"
    ],
    "alerts": {
      "var_breach": true,
      "drawdown_limit": true,
      "concentration_limit": true,
      "correlation_spike": true
    }
  }
}