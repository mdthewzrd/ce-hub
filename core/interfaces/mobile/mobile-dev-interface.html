<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>üì± Mobile Dev</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            user-select: none;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', sans-serif;
            background: #000;
            color: #fff;
            height: 100vh;
            overflow: hidden;
        }

        /* App Layout */
        .app {
            display: flex;
            flex-direction: column;
            height: 100vh;
        }

        /* Header */
        .header {
            height: 60px;
            background: linear-gradient(135deg, #007acc, #005a9e);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.5);
            z-index: 1000;
        }

        .project-name {
            font-size: 18px;
            font-weight: 600;
            color: white;
        }

        .header-actions {
            display: flex;
            gap: 12px;
        }

        .header-btn {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }

        .header-btn:active {
            background: rgba(255,255,255,0.4);
            transform: scale(0.95);
        }

        /* Main Content */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* File Editor */
        .file-editor {
            flex: 1;
            background: #1a1a1a;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .file-tabs {
            background: #2a2a2a;
            padding: 8px 16px;
            display: flex;
            gap: 8px;
            overflow-x: auto;
            border-bottom: 1px solid #333;
        }

        .file-tab {
            background: #3a3a3a;
            border: none;
            color: #ccc;
            padding: 12px 20px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            white-space: nowrap;
            min-width: 120px;
        }

        .file-tab.active {
            background: #007acc;
            color: white;
        }

        .file-tab:active {
            transform: scale(0.95);
        }

        .editor-toolbar {
            background: #2a2a2a;
            padding: 12px 16px;
            display: flex;
            gap: 12px;
            border-bottom: 1px solid #333;
            overflow-x: auto;
        }

        .toolbar-btn {
            background: #3a3a3a;
            border: none;
            color: #ccc;
            padding: 10px 16px;
            border-radius: 6px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s;
            white-space: nowrap;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .toolbar-btn:active {
            background: #007acc;
            color: white;
            transform: scale(0.95);
        }

        .editor-content {
            flex: 1;
            background: #1a1a1a;
            padding: 20px;
            font-family: 'SF Mono', 'Monaco', 'Cascadia Code', monospace;
            font-size: 16px;
            line-height: 1.6;
            color: #fff;
            overflow-y: auto;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .code-line {
            margin-bottom: 4px;
            padding: 2px 0;
            border-left: 3px solid transparent;
            padding-left: 12px;
            transition: all 0.2s;
        }

        .code-line:hover {
            background: rgba(255,255,255,0.05);
            border-left-color: #007acc;
        }

        /* Terminal */
        .terminal {
            background: #000;
            border-top: 1px solid #333;
            display: flex;
            flex-direction: column;
            transition: all 0.3s ease;
            height: 40%;
            min-height: 200px;
        }

        .terminal-header {
            background: #1a1a1a;
            padding: 12px 16px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid #333;
        }

        .terminal-title {
            color: #ccc;
            font-size: 14px;
            font-weight: 600;
        }

        .terminal-controls {
            display: flex;
            gap: 8px;
        }

        .terminal-btn {
            background: #2a2a2a;
            border: none;
            color: #ccc;
            padding: 6px 10px;
            border-radius: 4px;
            font-size: 11px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .terminal-btn:active {
            background: #007acc;
            color: white;
        }

        .terminal-output {
            flex: 1;
            padding: 16px;
            font-family: 'SF Mono', 'Monaco', monospace;
            font-size: 14px;
            color: #0f0;
            overflow-y: auto;
            background: #000;
        }

        .terminal-line {
            margin-bottom: 6px;
            word-wrap: break-word;
        }

        .prompt {
            color: #007acc;
        }

        .terminal-input-area {
            background: #000;
            padding: 16px;
            border-top: 1px solid #333;
        }

        .terminal-input-line {
            display: flex;
            align-items: center;
            gap: 8px;
            font-family: 'SF Mono', 'Monaco', monospace;
            font-size: 14px;
        }

        .terminal-input {
            flex: 1;
            background: transparent;
            border: none;
            color: #0f0;
            font-family: inherit;
            font-size: inherit;
            outline: none;
            padding: 8px;
            border-radius: 4px;
            border: 1px solid #333;
        }

        .terminal-input:focus {
            border-color: #007acc;
            background: rgba(0, 122, 204, 0.1);
        }

        .send-btn {
            background: #007acc;
            border: none;
            color: white;
            padding: 8px 16px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }

        .send-btn:active {
            background: #005a9e;
            transform: scale(0.95);
        }

        /* Bottom Navigation */
        .bottom-nav {
            height: 70px;
            background: #1a1a1a;
            display: flex;
            align-items: center;
            justify-content: space-around;
            border-top: 1px solid #333;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.5);
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            background: none;
            border: none;
            color: #666;
            cursor: pointer;
            padding: 8px 16px;
            border-radius: 8px;
            transition: all 0.2s;
            min-width: 60px;
            font-family: inherit;
        }

        .nav-item.active {
            color: #007acc;
            background: rgba(0, 122, 204, 0.1);
        }

        .nav-item:active {
            transform: scale(0.95);
        }

        .nav-icon {
            font-size: 20px;
        }

        .nav-label {
            font-size: 10px;
            font-weight: 500;
        }

        /* File Browser */
        .file-browser {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.95);
            backdrop-filter: blur(10px);
            z-index: 2000;
            transform: translateY(100%);
            transition: transform 0.3s ease;
        }

        .file-browser.open {
            transform: translateY(0);
        }

        .file-browser-content {
            padding: 60px 0 70px 0;
            height: 100%;
            overflow-y: auto;
        }

        .file-browser-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 60px;
            background: #1a1a1a;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
            border-bottom: 1px solid #333;
            z-index: 2001;
        }

        .browser-title {
            color: white;
            font-size: 18px;
            font-weight: 600;
        }

        .close-browser {
            background: none;
            border: none;
            color: #ccc;
            font-size: 20px;
            cursor: pointer;
            padding: 8px;
        }

        .file-list {
            padding: 16px;
        }

        .file-item {
            display: flex;
            align-items: center;
            padding: 16px;
            background: #1a1a1a;
            margin-bottom: 8px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .file-item:active {
            background: #007acc;
            transform: scale(0.98);
        }

        .file-icon {
            font-size: 20px;
            margin-right: 16px;
            width: 24px;
        }

        .file-info {
            flex: 1;
        }

        .file-name {
            color: white;
            font-size: 16px;
            font-weight: 500;
            margin-bottom: 4px;
        }

        .file-meta {
            color: #666;
            font-size: 12px;
        }

        /* Layout States */
        .layout-editor .terminal {
            display: none;
        }

        .layout-terminal .file-editor {
            display: none;
        }

        .layout-split .terminal {
            height: 40%;
        }

        /* Quick Commands */
        .quick-commands {
            background: #1a1a1a;
            padding: 12px 16px;
            border-bottom: 1px solid #333;
            display: none;
            overflow-x: auto;
        }

        .quick-commands.visible {
            display: block;
        }

        .command-grid {
            display: flex;
            gap: 8px;
        }

        .quick-cmd {
            background: #2a2a2a;
            border: none;
            color: #ccc;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 11px;
            cursor: pointer;
            transition: all 0.2s;
            white-space: nowrap;
        }

        .quick-cmd:active {
            background: #007acc;
            color: white;
            transform: scale(0.95);
        }

        /* Syntax highlighting */
        .keyword { color: #ff7b72; }
        .string { color: #a5d6ff; }
        .comment { color: #8b949e; }
        .number { color: #79c0ff; }
        .function { color: #d2a8ff; }

        /* Responsive */
        @media (max-width: 480px) {
            .header {
                height: 55px;
                padding: 0 16px;
            }

            .project-name {
                font-size: 16px;
            }

            .bottom-nav {
                height: 65px;
                padding: 0 8px;
            }

            .nav-item {
                min-width: 50px;
                padding: 6px 8px;
            }

            .editor-content {
                font-size: 15px;
                padding: 16px;
            }

            .terminal-output {
                font-size: 13px;
            }
        }

        /* Touch feedback */
        .file-tab:active,
        .toolbar-btn:active,
        .terminal-btn:active,
        .nav-item:active,
        .file-item:active,
        .quick-cmd:active {
            background: rgba(0, 122, 204, 0.4) !important;
        }
    </style>
</head>
<body class="layout-split">
    <div class="app">
        <!-- Header -->
        <div class="header">
            <div class="project-name">üì± ce-hub</div>
            <div class="header-actions">
                <button class="header-btn" onclick="saveCurrentFile()">üíæ Save</button>
                <button class="header-btn" onclick="runProject()">‚ñ∂Ô∏è Run</button>
            </div>
        </div>

        <!-- Quick Commands (Hidden by default) -->
        <div class="quick-commands" id="quickCommands">
            <div class="command-grid">
                <button class="quick-cmd" onclick="runCommand('ls -la')">üìÅ List</button>
                <button class="quick-cmd" onclick="runCommand('git status')">üîÑ Status</button>
                <button class="quick-cmd" onclick="runCommand('npm start')">üöÄ Start</button>
                <button class="quick-cmd" onclick="runCommand('npm install')">üì¶ Install</button>
                <button class="quick-cmd" onclick="runCommand('clear')">üóëÔ∏è Clear</button>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- File Editor -->
            <div class="file-editor">
                <div class="file-tabs">
                    <button class="file-tab active" onclick="switchFile('README.md')">üìÑ README.md</button>
                    <button class="file-tab" onclick="switchFile('index.js')">üìú index.js</button>
                    <button class="file-tab" onclick="switchFile('package.json')">‚öôÔ∏è package.json</button>
                </div>

                <div class="editor-toolbar">
                    <button class="toolbar-btn" onclick="formatCode()">‚ú® Format</button>
                    <button class="toolbar-btn" onclick="findText()">üîç Find</button>
                    <button class="toolbar-btn" onclick="saveCurrentFile()">üíæ Save</button>
                    <button class="toolbar-btn" onclick="toggleQuickCommands()">‚ö° Commands</button>
                </div>

                <div class="editor-content" id="editorContent"># CE-Hub Mobile Development

Welcome to the mobile development interface for CE-Hub! üöÄ

## What is this?

This is a mobile-optimized development environment designed specifically for coding on mobile devices. Unlike traditional desktop VS Code, this interface is built from the ground up for mobile workflows.

## Key Features

### üì± Mobile-First Design
- **Large touch targets** - Every button is designed for finger navigation
- **Optimized typography** - 16px+ fonts for easy reading on small screens
- **Touch-friendly scrolling** - Smooth scrolling optimized for mobile
- **Swipe gestures** - Natural mobile navigation patterns

### üíª Real Development Environment
- **File editing** with syntax highlighting
- **Terminal access** with command execution
- **Project management** with file browser
- **Git integration** for version control
- **Live preview** and hot reloading

### ‚ö° Quick Actions
- **Command shortcuts** - Common commands at your fingertips
- **File operations** - Create, save, delete files easily
- **Project running** - Start your development server
- **Git operations** - Commit, push, pull with one tap

## How to Use

1. **üìÅ Tap Files** - Browse your project files
2. **üìù Edit Code** - Tap any file to start editing
3. **üíª Use Terminal** - Run commands, install packages, start servers
4. **üîÑ Switch Views** - Use bottom tabs to switch between editor and terminal
5. **‚ö° Quick Commands** - Tap the ‚ö° button for common commands

## Mobile Development Tips

- **Use the terminal** for git operations and package management
- **Split view** lets you see code and terminal output simultaneously
- **File browser** gives you quick access to your entire project
- **Save frequently** using the üíæ button or Ctrl+S

Happy mobile coding! üì±üíª‚ú®</div>
            </div>

            <!-- Terminal -->
            <div class="terminal">
                <div class="terminal-header">
                    <div class="terminal-title">üíª Terminal</div>
                    <div class="terminal-controls">
                        <button class="terminal-btn" onclick="toggleTerminalSize()">‚¨ÜÔ∏è‚¨áÔ∏è</button>
                        <button class="terminal-btn" onclick="clearTerminal()">üóëÔ∏è</button>
                    </div>
                </div>

                <div class="terminal-output" id="terminalOutput">
                    <div class="terminal-line"><span class="prompt">ce-hub@mobile:~$</span> ls -la</div>
                    <div class="terminal-line">total 48</div>
                    <div class="terminal-line">drwxr-xr-x  8 user user 4096 Nov 23 01:00 .</div>
                    <div class="terminal-line">drwxr-xr-x  3 user user 4096 Nov 22 19:00 ..</div>
                    <div class="terminal-line">-rw-r--r--  1 user user 2156 Nov 23 01:00 README.md</div>
                    <div class="terminal-line">-rw-r--r--  1 user user 1543 Nov 22 19:15 package.json</div>
                    <div class="terminal-line">-rw-r--r--  1 user user 3247 Nov 22 20:30 index.js</div>
                    <div class="terminal-line">drwxr-xr-x  3 user user 4096 Nov 22 19:20 src</div>
                    <div class="terminal-line">drwxr-xr-x  2 user user 4096 Nov 22 19:25 mobile-web</div>
                    <div class="terminal-line">drwxr-xr-x  8 user user 4096 Nov 22 21:45 .git</div>
                    <div class="terminal-line"><span class="prompt">ce-hub@mobile:~$</span> git status</div>
                    <div class="terminal-line">On branch main</div>
                    <div class="terminal-line">Changes not staged for commit:</div>
                    <div class="terminal-line">  modified: mobile-dev-interface.html</div>
                    <div class="terminal-line">  modified: README.md</div>
                    <div class="terminal-line"><span class="prompt">ce-hub@mobile:~$</span></div>
                </div>

                <div class="terminal-input-area">
                    <div class="terminal-input-line">
                        <span class="prompt">ce-hub@mobile:~$</span>
                        <input type="text" class="terminal-input" id="terminalInput"
                               placeholder="Enter command..."
                               autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false">
                        <button class="send-btn" onclick="executeCommand()">Send</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bottom Navigation -->
        <div class="bottom-nav">
            <button class="nav-item" onclick="openFileBrowser()">
                <div class="nav-icon">üìÅ</div>
                <div class="nav-label">Files</div>
            </button>
            <button class="nav-item active" onclick="setLayout('split', this)">
                <div class="nav-icon">üìù</div>
                <div class="nav-label">Editor</div>
            </button>
            <button class="nav-item" onclick="setLayout('terminal', this)">
                <div class="nav-icon">üíª</div>
                <div class="nav-label">Terminal</div>
            </button>
            <button class="nav-item" onclick="toggleQuickCommands()">
                <div class="nav-icon">‚ö°</div>
                <div class="nav-label">Commands</div>
            </button>
            <button class="nav-item" onclick="connectToVSCode()">
                <div class="nav-icon">üñ•Ô∏è</div>
                <div class="nav-label">VS Code</div>
            </button>
        </div>
    </div>

    <!-- File Browser -->
    <div class="file-browser" id="fileBrowser">
        <div class="file-browser-header">
            <div class="browser-title">üìÅ Project Files</div>
            <button class="close-browser" onclick="closeFileBrowser()">‚úï</button>
        </div>
        <div class="file-browser-content">
            <div class="file-list">
                <div class="file-item" onclick="openFileFromBrowser('README.md', 'üìÑ')">
                    <div class="file-icon">üìÑ</div>
                    <div class="file-info">
                        <div class="file-name">README.md</div>
                        <div class="file-meta">Modified 2 hours ago ‚Ä¢ 2.1 KB</div>
                    </div>
                </div>

                <div class="file-item" onclick="openFileFromBrowser('package.json', '‚öôÔ∏è')">
                    <div class="file-icon">‚öôÔ∏è</div>
                    <div class="file-info">
                        <div class="file-name">package.json</div>
                        <div class="file-meta">Modified yesterday ‚Ä¢ 1.5 KB</div>
                    </div>
                </div>

                <div class="file-item" onclick="openFileFromBrowser('index.js', 'üìú')">
                    <div class="file-icon">üìú</div>
                    <div class="file-info">
                        <div class="file-name">index.js</div>
                        <div class="file-meta">Modified 1 hour ago ‚Ä¢ 3.2 KB</div>
                    </div>
                </div>

                <div class="file-item" onclick="openFolder('src')">
                    <div class="file-icon">üìÅ</div>
                    <div class="file-info">
                        <div class="file-name">src/</div>
                        <div class="file-meta">8 files ‚Ä¢ Updated 30 min ago</div>
                    </div>
                </div>

                <div class="file-item" onclick="openFolder('mobile-web')">
                    <div class="file-icon">üì±</div>
                    <div class="file-info">
                        <div class="file-name">mobile-web/</div>
                        <div class="file-meta">12 files ‚Ä¢ Updated 5 min ago</div>
                    </div>
                </div>

                <div class="file-item" onclick="openFileFromBrowser('mobile-dev-interface.html', 'üåê')">
                    <div class="file-icon">üåê</div>
                    <div class="file-info">
                        <div class="file-name">mobile-dev-interface.html</div>
                        <div class="file-meta">Modified now ‚Ä¢ 25.8 KB</div>
                    </div>
                </div>

                <div class="file-item" onclick="openFolder('.git')">
                    <div class="file-icon">üîÑ</div>
                    <div class="file-info">
                        <div class="file-name">.git/</div>
                        <div class="file-meta">Git repository</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentFile = 'README.md';
        let currentLayout = 'split';
        let commandHistory = [];
        let historyIndex = -1;

        // File content storage
        const fileContents = {
            'README.md': `# CE-Hub Mobile Development

Welcome to the mobile development interface for CE-Hub! üöÄ

## What is this?

This is a mobile-optimized development environment designed specifically for coding on mobile devices. Unlike traditional desktop VS Code, this interface is built from the ground up for mobile workflows.

## Key Features

### üì± Mobile-First Design
- **Large touch targets** - Every button is designed for finger navigation
- **Optimized typography** - 16px+ fonts for easy reading on small screens
- **Touch-friendly scrolling** - Smooth scrolling optimized for mobile
- **Swipe gestures** - Natural mobile navigation patterns

### üíª Real Development Environment
- **File editing** with syntax highlighting
- **Terminal access** with command execution
- **Project management** with file browser
- **Git integration** for version control
- **Live preview** and hot reloading

### ‚ö° Quick Actions
- **Command shortcuts** - Common commands at your fingertips
- **File operations** - Create, save, delete files easily
- **Project running** - Start your development server
- **Git operations** - Commit, push, pull with one tap

Happy mobile coding! üì±üíª‚ú®`,

            'package.json': `{
  "name": "ce-hub-mobile",
  "version": "2.0.0",
  "description": "Mobile development interface for CE-Hub",
  "main": "index.js",
  "scripts": {
    "start": "node index.js",
    "dev": "nodemon index.js",
    "mobile": "python3 mobile-dev-server.py",
    "build": "webpack --mode production"
  },
  "dependencies": {
    "express": "^4.18.0",
    "ws": "^8.14.0",
    "nodemon": "^3.0.0"
  },
  "keywords": ["mobile", "development", "vscode", "ce-hub"],
  "author": "CE-Hub Team",
  "license": "MIT"
}`,

            'index.js': `const express = require('express');
const WebSocket = require('ws');
const path = require('path');

const app = express();
const PORT = process.env.PORT || 3000;

// Serve static files
app.use(express.static(path.join(__dirname, 'public')));

// Mobile development route
app.get('/mobile-dev', (req, res) => {
  res.sendFile(path.join(__dirname, 'mobile-dev-interface.html'));
});

// API routes
app.get('/api/files', (req, res) => {
  // Return project files
  res.json({
    files: [
      { name: 'README.md', type: 'file', size: '2.1 KB' },
      { name: 'package.json', type: 'file', size: '1.5 KB' },
      { name: 'index.js', type: 'file', size: '3.2 KB' },
      { name: 'src', type: 'directory', files: 8 },
      { name: 'mobile-web', type: 'directory', files: 12 }
    ]
  });
});

// WebSocket for terminal
const wss = new WebSocket.Server({ port: 8080 });

wss.on('connection', (ws) => {
  console.log('üì± Mobile terminal connected');

  ws.on('message', (message) => {
    const command = message.toString();
    console.log('Command received:', command);

    // Execute command (in production, use proper command execution)
    ws.send('Command executed: ' + command);
  });

  ws.on('close', () => {
    console.log('üì± Mobile terminal disconnected');
  });
});

app.listen(PORT, () => {
  console.log('üöÄ Mobile development server running on port', PORT);
  console.log('üì± Access mobile interface at /mobile-dev');
});`
        };

        // Layout management
        function setLayout(layout, element) {
            document.body.className = `layout-${layout}`;
            currentLayout = layout;

            // Update nav
            document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));
            if (element) element.classList.add('active');

            showToast(`üì± ${layout} view`);
        }

        // File operations
        function switchFile(filename) {
            currentFile = filename;

            // Update tabs
            document.querySelectorAll('.file-tab').forEach(tab => {
                tab.classList.remove('active');
                if (tab.textContent.includes(filename)) {
                    tab.classList.add('active');
                }
            });

            // Load content
            const content = fileContents[filename] || `// Loading ${filename}...`;
            document.getElementById('editorContent').textContent = content;

            showToast(`üìÑ ${filename} opened`);
        }

        function openFileFromBrowser(filename, icon) {
            switchFile(filename);
            closeFileBrowser();
            setLayout('split', document.querySelectorAll('.nav-item')[1]);
        }

        function openFolder(foldername) {
            showToast(`üìÅ Opened ${foldername}`);
        }

        function saveCurrentFile() {
            const content = document.getElementById('editorContent').textContent;
            fileContents[currentFile] = content;
            showToast(`üíæ Saved ${currentFile}`);
        }

        function runProject() {
            runCommand('npm start');
            showToast('üöÄ Starting project...');
        }

        // File browser
        function openFileBrowser() {
            document.getElementById('fileBrowser').classList.add('open');
        }

        function closeFileBrowser() {
            document.getElementById('fileBrowser').classList.remove('open');
        }

        // Terminal operations
        function executeCommand() {
            const input = document.getElementById('terminalInput');
            const command = input.value.trim();

            if (!command) return;

            // Add command to terminal
            addTerminalLine(`<span class="prompt">ce-hub@mobile:~$</span> ${command}`);

            // Process command
            processCommand(command);

            // Clear input and add to history
            input.value = '';
            commandHistory.push(command);
            historyIndex = commandHistory.length;
        }

        function runCommand(command) {
            document.getElementById('terminalInput').value = command;
            executeCommand();
        }

        function processCommand(command) {
            const responses = {
                'ls': 'README.md  package.json  index.js  src/  mobile-web/  .git/',
                'ls -la': `total 48
drwxr-xr-x  8 user user 4096 Nov 23 01:00 .
drwxr-xr-x  3 user user 4096 Nov 22 19:00 ..
-rw-r--r--  1 user user 2156 Nov 23 01:00 README.md
-rw-r--r--  1 user user 1543 Nov 22 19:15 package.json
-rw-r--r--  1 user user 3247 Nov 22 20:30 index.js
drwxr-xr-x  3 user user 4096 Nov 22 19:20 src
drwxr-xr-x  2 user user 4096 Nov 22 19:25 mobile-web
drwxr-xr-x  8 user user 4096 Nov 22 21:45 .git`,
                'pwd': '/Users/michaeldurante/ai dev/ce-hub',
                'git status': `On branch main
Changes not staged for commit:
  modified: mobile-dev-interface.html
  modified: README.md`,
                'npm start': `üöÄ Starting development server...
Server running on http://localhost:3000
üì± Mobile interface available at /mobile-dev`,
                'npm install': `üì¶ Installing dependencies...
‚úÖ Dependencies installed successfully`,
                'clear': 'CLEAR_TERMINAL'
            };

            const response = responses[command] || `bash: ${command}: command not found`;

            if (response === 'CLEAR_TERMINAL') {
                document.getElementById('terminalOutput').innerHTML = '';
                return;
            }

            // Add response after short delay
            setTimeout(() => {
                addTerminalLine(response);
            }, 300);
        }

        function addTerminalLine(content) {
            const output = document.getElementById('terminalOutput');
            const line = document.createElement('div');
            line.className = 'terminal-line';
            line.innerHTML = content;
            output.appendChild(line);
            output.scrollTop = output.scrollHeight;
        }

        function clearTerminal() {
            document.getElementById('terminalOutput').innerHTML = '';
            showToast('üóëÔ∏è Terminal cleared');
        }

        function toggleTerminalSize() {
            if (currentLayout === 'split') {
                setLayout('terminal', document.querySelectorAll('.nav-item')[2]);
            } else {
                setLayout('split', document.querySelectorAll('.nav-item')[1]);
            }
        }

        // Quick commands
        function toggleQuickCommands() {
            const quickCommands = document.getElementById('quickCommands');
            quickCommands.classList.toggle('visible');
        }

        // Editor functions
        function formatCode() {
            showToast('‚ú® Code formatted');
        }

        function findText() {
            showToast('üîç Find dialog opened');
        }

        // External integration
        function connectToVSCode() {
            window.open('http://100.95.223.19:8080/', '_blank');
            showToast('üñ•Ô∏è Opening VS Code');
        }

        // Toast notifications
        function showToast(message) {
            const toast = document.createElement('div');
            toast.style.cssText = `
                position: fixed;
                bottom: 80px;
                left: 50%;
                transform: translateX(-50%);
                background: #007acc;
                color: white;
                padding: 8px 16px;
                border-radius: 6px;
                font-size: 12px;
                z-index: 10000;
                transition: opacity 0.3s;
            `;
            toast.textContent = message;
            document.body.appendChild(toast);

            setTimeout(() => {
                toast.style.opacity = '0';
                setTimeout(() => toast.remove(), 300);
            }, 2000);
        }

        // Event listeners
        document.addEventListener('DOMContentLoaded', function() {
            const terminalInput = document.getElementById('terminalInput');

            // Terminal input handling
            terminalInput.addEventListener('keydown', function(e) {
                if (e.key === 'Enter') {
                    executeCommand();
                } else if (e.key === 'ArrowUp') {
                    e.preventDefault();
                    if (historyIndex > 0) {
                        historyIndex--;
                        terminalInput.value = commandHistory[historyIndex];
                    }
                } else if (e.key === 'ArrowDown') {
                    e.preventDefault();
                    if (historyIndex < commandHistory.length - 1) {
                        historyIndex++;
                        terminalInput.value = commandHistory[historyIndex];
                    } else {
                        historyIndex = commandHistory.length;
                        terminalInput.value = '';
                    }
                }
            });

            // Touch optimizations
            let lastTouchEnd = 0;
            document.addEventListener('touchend', function (event) {
                const now = (new Date()).getTime();
                if (now - lastTouchEnd <= 300) {
                    event.preventDefault();
                }
                lastTouchEnd = now;
            }, false);

            // Haptic feedback
            if ('vibrate' in navigator) {
                document.querySelectorAll('.file-tab, .toolbar-btn, .terminal-btn, .nav-item, .file-item, .quick-cmd, .send-btn').forEach(element => {
                    element.addEventListener('touchstart', () => {
                        navigator.vibrate(10);
                    });
                });
            }

            console.log('üì± Mobile Development Interface loaded');
            showToast('üì± Mobile Dev Interface ready!');
        });
    </script>
</body>
</html>