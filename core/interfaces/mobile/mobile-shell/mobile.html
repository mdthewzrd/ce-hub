<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#1e1e1e">
    <title>CE-Hub Mobile Pro</title>

    <!-- Mobile-optimized CSS -->
    <link rel="stylesheet" href="css/mobile-pro.css">

    <!-- Preload key resources -->
    <link rel="preload" href="js/mobile-pro-controller.js" as="script">
</head>
<body class="mobile-pro-body">
    <!-- Mobile Pro Shell -->
    <div id="mobile-pro-shell" class="mobile-pro-shell">

        <!-- Compact Header -->
        <header class="mobile-pro-header">
            <div class="header-content">
                <button id="connection-indicator" class="connection-indicator connected">â—</button>
                <span class="project-name">CE-Hub</span>
                <button id="settings-btn" class="icon-btn-mini">âš™</button>
            </div>
        </header>

        <!-- Three-Section Layout -->
        <main class="main-layout">

            <!-- Top Section: Compact File Explorer (1/3 height) -->
            <section class="explorer-section">
                <div class="section-header">
                    <span class="section-title">ğŸ“ Files</span>
                    <button class="refresh-btn" id="refresh-files">â†»</button>
                </div>
                <div class="compact-explorer" id="compact-explorer">
                    <div class="file-item folder">
                        <span class="file-icon">ğŸ“</span>
                        <span class="file-name">src/</span>
                    </div>
                    <div class="file-item">
                        <span class="file-icon">ğŸ“„</span>
                        <span class="file-name">index.js</span>
                    </div>
                    <div class="file-item">
                        <span class="file-icon">ğŸ“¦</span>
                        <span class="file-name">package.json</span>
                    </div>
                    <div class="file-item">
                        <span class="file-icon">ğŸ“</span>
                        <span class="file-name">README.md</span>
                    </div>
                </div>
            </section>

            <!-- Middle Section: VS Code Editor (Embedded) -->
            <section class="editor-section">
                <div class="editor-wrapper">
                    <iframe
                        id="vscode-frame-pro"
                        class="vscode-iframe-pro"
                        src="http://localhost:8093/?password=ce-hub-dev"
                        frameborder="0"
                        allow="clipboard-read; clipboard-write">
                    </iframe>
                    <div class="editor-overlay" id="editor-overlay">
                        <div class="quick-actions">
                            <button class="quick-btn" id="save-btn">ğŸ’¾</button>
                            <button class="quick-btn" id="format-btn">âœ¨</button>
                            <button class="quick-btn" id="search-btn">ğŸ”</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Bottom Section: Mobile-Optimized Terminal -->
            <section class="terminal-section">
                <div class="section-header">
                    <span class="section-title">âš¡ Terminal</span>
                    <div class="terminal-controls">
                        <button class="terminal-btn" id="clear-terminal">ğŸ—‘</button>
                        <button class="terminal-btn" id="new-terminal">â•</button>
                    </div>
                </div>
                <div class="mobile-terminal-pro" id="mobile-terminal-pro">
                    <div class="terminal-output" id="terminal-output">
                        <div class="terminal-line">
                            <span class="prompt">$</span>
                            <span class="command">Welcome to CE-Hub Mobile Terminal</span>
                        </div>
                        <div class="terminal-line">
                            <span class="prompt">$</span>
                            <span class="command">pwd</span>
                        </div>
                        <div class="output">/Users/user/ce-hub</div>
                        <div class="terminal-line active">
                            <span class="prompt">$</span>
                            <span class="cursor">â–ˆ</span>
                        </div>
                    </div>

                    <!-- Mobile Command Input -->
                    <div class="command-input-area">
                        <div class="quick-commands">
                            <button class="cmd-btn" data-cmd="ls -la">ğŸ“‚ ls</button>
                            <button class="cmd-btn" data-cmd="git status">ğŸ”„ git</button>
                            <button class="cmd-btn" data-cmd="npm run">ğŸš€ npm</button>
                            <button class="cmd-btn" data-cmd="cd ">ğŸ“ cd</button>
                        </div>
                        <div class="input-row">
                            <span class="input-prompt">$</span>
                            <input type="text" id="command-input" class="command-input" placeholder="Enter command..." autocomplete="off" spellcheck="false">
                            <button class="send-btn" id="send-command">â¤</button>
                        </div>
                    </div>
                </div>
            </section>

        </main>

        <!-- Mobile Navigation Strip -->
        <nav class="mobile-nav-strip">
            <button class="nav-btn active" data-view="code">
                <span class="nav-icon">ğŸ’»</span>
                <span class="nav-label">Code</span>
            </button>
            <button class="nav-btn" data-view="git">
                <span class="nav-icon">ğŸ”„</span>
                <span class="nav-label">Git</span>
            </button>
            <button class="nav-btn" data-view="debug">
                <span class="nav-icon">ğŸ›</span>
                <span class="nav-label">Debug</span>
            </button>
            <button class="nav-btn" data-view="deploy">
                <span class="nav-icon">ğŸš€</span>
                <span class="nav-label">Deploy</span>
            </button>
        </nav>

    </div>

    <!-- Mobile Testing Tools -->
    <div id="mobile-tester" class="mobile-tester hidden">
        <div class="tester-header">
            <h3>ğŸ“± Mobile Tester</h3>
            <button class="close-tester" id="close-tester">Ã—</button>
        </div>
        <div class="device-selector">
            <button class="device-btn active" data-device="iphone-se">iPhone SE</button>
            <button class="device-btn" data-device="iphone-14">iPhone 14</button>
            <button class="device-btn" data-device="pixel-7">Pixel 7</button>
            <button class="device-btn" data-device="ipad">iPad</button>
        </div>
        <div class="device-frame" id="device-frame">
            <iframe src="/mobile" class="device-preview" id="device-preview"></iframe>
        </div>
    </div>

    <!-- Floating Action Button -->
    <button class="fab" id="mobile-tester-fab">
        <span>ğŸ“±</span>
    </button>

    <!-- Scripts -->
    <script src="js/mobile-pro-controller.js"></script>

    <!-- Konami Code for Mobile Tester -->
    <script>
        // Simple mobile tester toggle
        document.getElementById('mobile-tester-fab').addEventListener('click', () => {
            const tester = document.getElementById('mobile-tester');
            tester.classList.toggle('hidden');
        });

        document.getElementById('close-tester').addEventListener('click', () => {
            document.getElementById('mobile-tester').classList.add('hidden');
        });
    </script>
</body>
</html>